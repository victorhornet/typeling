// single line comment

/* 
    multi
    line
    comment
*/

/*
type Test1;
alias Test10 = Test1;
type Test2 (i64, i64);
*/

type StructType {
    x: i64,
    y: f64,
    z: bool,
}

/*
type Test4
    = V1 
    | V2 
    | V3 (i64, i64)
    | V4 { x: i64, y: i64 }
    ;
alias Test4 = enumer;
*/

fn function1() {
    x: f64;
    y: i64 = 1 + 16 * 3 - 2;
    z: i64 = 6;
    5 + 3;
    z = 5 + 5;
} 

fn function2() -> i64 {
    x: i64 = 4;
    z: i64 = 1 + x;
    return z * x;
}

fn function3() -> f64 {
    t : bool = true;
    f : bool = false;
    return 10 - 3;
}

fn i64_comparisons() {
    x: i64 = 4;
    y: i64 = 5;
    

    c1 : bool ;
    c2 : bool ;
    c3 : bool ;
    c4 : bool ;
    c5 : bool ;
    c6 : bool ;

    c1 = x == y;
    c2 = x != y;
    c3 = x < y;
    c4 = x > y;
    c5 = x <= y;
    c6 = x >= y;
}

fn bool_operations() -> bool {
    t : bool = true;
    f : bool = false;
    return t && f || t;
}

fn function_call() -> bool {
    x: i64 = function3();
    return true;
}

fn unops() {
    x: i64 = 4;
    nx: i64 = -x;
    y: f64 = 4.0;
    ny: f64 = -y;
    t: bool = true;
    f: bool = !t;
}

fn blocks() -> i64 {
    x: i64 = 4;
    y: i64 = 5;
    {
        x = 5;
        y = 6;
    }
    {
        x: i64 = 10;
        y: i64 = 11;
    }
    return x + y;
}

fn func_with_params(x: i64, y: i64) -> i64 {
    return x + y;
}


fn fib(n: i64) -> i64 {
    if n == 0 {
        return 0;
    }
    if n == 1 {
        return 1;
    }
    return fib(n - 1) + fib(n - 2);
}

fn random_while(n: i64) -> i64 {
    x: i64 = 0;
    y: i64 = 0;
    while x < n {
        x = x + 1;
        y = y + x;
    }
    return y;
}

fn fib_while(n: i64) -> i64 {
    x: i64 = 0;
    y: i64 = 1;
    i: i64 = 0;
    while i < n {
        z: i64;
        z = x + y;
        x = y;
        y = z;
        i = i + 1;
    }
    return x;
}

fn fn_def_test1() -> i64 {
    return fn_def_test2();
}

fn fn_def_test2() -> i64 {
    return 10;
}

fn returns_struct() -> StructType {
    return 1;
}


fn hello() {
    printf("Hello \"world\" \'!\'\n num: %d\n", 1);
    printf("\tthis is a tabbed string\n");
}


fn main() -> i64 {
    hello();
    return fib_while(50);
}
